"use strict";(self.webpackChunklazy_loading=self.webpackChunklazy_loading||[]).push([[614],{6614:(J,l,a)=>{a.r(l),a.d(l,{HomeModule:()=>T});var d=a(6814),m=a(1654),t=a(5879),g=a(5861),p=a(3182),r=a(15),f=a(2848),v=a(12),h=a(95);const C=["chatContainer"];function b(e,A){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const n=A.$implicit;t.xp6(1),t.hij(" ",n," ")}}let j=(()=>{class e{constructor(n,o){this.dataService=n,this.auth=o,this.nuevoMensaje="",this.fecha="",this.mostrar=!1,this.mensajes=[]}autoScroll(){try{this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight}catch(n){console.log(n)}}ngAfterViewChecked(){this.autoScroll()}ngOnInit(){this.auth.obtenerUser().subscribe(n=>{this.user=n?.email}),this.refreshChat()}ngOnDestroy(){}EnviarMensaje(){var n=this;return(0,g.Z)(function*(){if(""!=n.nuevoMensaje){const o=(0,r.JU)((0,r.hJ)(u,"chat"));yield(0,r.pl)(o,{user:n.user,fecha:Date.now(),mensaje:n.nuevoMensaje}),n.nuevoMensaje="",n.autoScroll()}})()}refreshChat(){const n=(0,r.IO)((0,r.hJ)(u,"chat"),(0,r.Xo)("fecha"));(0,r.cf)(n,s=>{this.mensajes=[],s.forEach(i=>{var c=i.get("user").split("@");c=c[0],this.mensajes.push(`${this.crearHorario(new Date(i.get("fecha")))} - ${c}: ${i.get("mensaje")}`)})})}crearHorario(n=new Date(Date.now())){var o=n.getHours(),s=n.getMinutes(),c=`${o}:${s}`;return s<10&&(c=`${o}:${"0"+s.toString()}`),c}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(f.D),t.Y36(v.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-chat"]],viewQuery:function(o,s){if(1&o&&t.Gf(C,5),2&o){let i;t.iGM(i=t.CRH())&&(s.chatContainer=i.first)}},decls:11,vars:2,consts:[[1,"container","d-flex","align-items-start","justify-content-center","bg-dark","flex-column",2,"height","75vh","width","400px","border","solid 2px yellow"],[1,"text-white","m-2"],["id","mensajes-container",1,"card-body","h-100","mensajes","bg-dark","w-100","chat-container"],["chatContainer",""],["class","text-white",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","m-2","p-1"],["type","text","placeholder","Escribe un mensaje...",1,"form-control","m-3",2,"height","50px",3,"ngModel","ngModelChange"],["type","button",1,"p-2","boton-enviar",3,"click"],["src","../../../../assets/img/Send.png","alt",""],[1,"text-white"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"CHAT"),t.qZA(),t.TgZ(3,"div",2,3),t.YNc(5,b,2,1,"p",4),t.qZA(),t.TgZ(6,"div",5)(7,"input",6),t.NdJ("ngModelChange",function(c){return s.nuevoMensaje=c}),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return s.EnviarMensaje()}),t._uU(9,"Enviar "),t._UZ(10,"img",8),t.qZA()()()),2&o&&(t.xp6(5),t.Q6J("ngForOf",s.mensajes),t.xp6(2),t.Q6J("ngModel",s.nuevoMensaje))},dependencies:[d.sg,h.Fj,h.JJ,h.On],styles:[".mensajes[_ngcontent-%COMP%]{overflow:scroll}.boton-enviar[_ngcontent-%COMP%]{background-color:#05c5fa;border:5px solid rgb(71,71,252);border-radius:15px}.boton-enviar[_ngcontent-%COMP%]:hover{background-color:#3bf33b;border:5px solid rgb(1,29,74);box-shadow:0 12px 16px #0af80275,0 17px 50px #3bd80b34}"]})}return e})();const x=(0,p.ZF)({apiKey:"AIzaSyC_n-zaJwwDOT_baENLRCAPjeEtItyobmI",authDomain:"tp-sala-juegos-b2d86.firebaseapp.com",projectId:"tp-sala-juegos-b2d86",storageBucket:"tp-sala-juegos-b2d86.appspot.com",messagingSenderId:"420853186094",appId:"1:420853186094:web:a65608cf7a38ffa03529bf"}),u=(0,r.ad)(x),M=[{path:"",component:(()=>{class e{constructor(n){this.router=n,this.mostrarChat=!0}jugar(n){this.router.navigateByUrl(n)}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:23,vars:1,consts:[[1,"bg-image",2,"background-image","url('../../../assets/img/Gaming-bg.jpg')","width","100vw","height","90vh"],[1,"d-flex","align-items-center","justify-content-end","p-4"],["type","button","value","Chat",1,"btn","btn-primary","m-2","p-3",3,"click"],[1,"d-flex","flex-row","align-items-center","justify-content-center"],[1,"container","d-flex","align-items-center","justify-content-center","p-2"],[1,"btn","btn-warning","tam","btn-lg","m-5",3,"click"],["src","../../../assets/img/ahorcado.png","alt","",2,"height","150px","width","150px"],["src","../../../assets/img/mayoromenor.png","alt","",2,"height","150px","width","150px"],["src","../../../assets/img/preguntados.png","alt","",2,"height","150px","width","150px"],["src","../../../assets/img/breakout.png","alt","",2,"height","150px","width","150px"],[3,"hidden"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("click",function(){return s.mostrarChat=!s.mostrarChat}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"div")(6,"button",5),t.NdJ("click",function(){return s.jugar("home/ahorcado")}),t._UZ(7,"img",6),t._uU(8,"Ahorcado"),t.qZA()(),t.TgZ(9,"div")(10,"button",5),t.NdJ("click",function(){return s.jugar("home/mayoromenor")}),t._UZ(11,"img",7),t._uU(12," Mayor o Menor"),t.qZA()(),t.TgZ(13,"div")(14,"button",5),t.NdJ("click",function(){return s.jugar("home/preguntados")}),t._UZ(15,"img",8),t._uU(16," Preguntados"),t.qZA()(),t.TgZ(17,"div")(18,"button",5),t.NdJ("click",function(){return s.jugar("home/mijuego")}),t._UZ(19,"img",9),t._uU(20,"Breakout"),t.qZA()()(),t.TgZ(21,"div",10),t._UZ(22,"app-chat"),t.qZA()()()),2&o&&(t.xp6(21),t.Q6J("hidden",s.mostrarChat))},dependencies:[j],styles:[".tam[_ngcontent-%COMP%]{height:200px;width:200px;border:4px solid rgb(190,140,5);border-radius:15px}.tam[_ngcontent-%COMP%]:hover{background-color:#adff2f;box-shadow:0 12px 16px #ebd6d63d,0 17px 50px #eedfdf30}"]})}return e})()},{path:"ahorcado",loadChildren:()=>a.e(950).then(a.bind(a,1950)).then(e=>e.AhorcadoModule)},{path:"mayoromenor",loadChildren:()=>a.e(624).then(a.bind(a,2624)).then(e=>e.MayoromenorModule)},{path:"preguntados",loadChildren:()=>a.e(498).then(a.bind(a,3498)).then(e=>e.PreguntadosModule)},{path:"mijuego",loadChildren:()=>a.e(641).then(a.bind(a,8641)).then(e=>e.MijuegoModule)},{path:"**",redirectTo:""}];let Z=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(M)]})}return e})(),T=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[d.ez,Z,h.u5]})}return e})()}}]);