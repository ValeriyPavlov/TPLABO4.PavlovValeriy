"use strict";(self.webpackChunklazy_loading=self.webpackChunklazy_loading||[]).push([[641],{8641:(Y,p,r)=>{r.r(p),r.d(p,{MijuegoModule:()=>U});var f=r(6814),l=r(1654);class x{constructor(a,i,t,s,c){this.ancho=a,this.alto=i,this.posicion=t,this.vida=s,this.imagen=new Image,this.ancho=a,this.alto=i,this.posicion=t,this.vida=s,this.imagen.src=c}}class y{constructor(a,i,t,s,c){this.velocidad=a,this.ancho=i,this.alto=t,this.posicion=s,this.imagen=new Image,this.handleKeyUp=e=>{("ArrowLeft"===e.code||"ArrowLeft"===e.key)&&(this.izquierda=!1),("ArrowRight"===e.code||"ArrowRight"===e.key)&&(this.derecha=!1)},this.handleKeyDown=e=>{("ArrowLeft"===e.code||"ArrowLeft"===e.key)&&(this.izquierda=!0),("ArrowRight"===e.code||"ArrowRight"===e.key)&&(this.derecha=!0)},this.velocidad=a,this.ancho=i,this.alto=t,this.posicion=s,this.izquierda=!1,this.derecha=!1,this.imagen.src=c,document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}moverPaleta(){this.izquierda&&(this.posicion.x-=this.velocidad),this.derecha&&(this.posicion.x+=this.velocidad)}}class A{constructor(a,i,t,s){this.tam=i,this.posicion=t,this.imagen=new Image,this.ancho=i,this.alto=i,this.posicion=t,this.velocidad={x:a,y:-a},this.imagen.src=s}cambiarDireccionY(){this.velocidad.y=-this.velocidad.y}cambiarDireccionX(){this.velocidad.x=-this.velocidad.x}moverPelota(){this.posicion.x=this.posicion.x+this.velocidad.x,this.posicion.y=this.posicion.y+this.velocidad.y}}const h=document.querySelector("#canvas"),m=h?Math.floor((h.width-20)/11)-5:92,v=h?Math.floor((h.height-20)/20)-5:30,J={1:"../../../../../assets/mi_juego/brick-red.png",2:"../../../../../assets/mi_juego/brick-green.png",3:"../../../../../assets/mi_juego/brick-yellow.png",4:"../../../../../assets/mi_juego/brick-blue.png",5:"../../../../../assets/mi_juego/brick-purple.png"},S={1:1,2:1,3:2,4:2,5:3},K=[4,0,4,3,3,3,4,0,0,4,0,3,0,3,0,4,0,3,5,0,3,0,2,0,2,0,2,0,2,0,5,2,0,1,5,1,0,5,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0];var o=r(5879);function Z(n,a){if(1&n&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.hij("Puntos: ",i.puntaje,"")}}const z=[{path:"",component:(()=>{class n{constructor(){this.puntaje=0,this.btnJugar="Jugar",this.info="Presiona Jugar para iniciar el juego!",this.corriendo=!1,this.canvas=document.querySelector("#canvas"),this.context=null,this.btnJugar="Jugar"}ngOnInit(){}ngAfterViewChecked(){this.canvas=document.querySelector("#canvas"),this.context=this.canvas.getContext("2d")}limpiarCanvas(){this.context?.clearRect(0,0,this.canvas.width,this.canvas.height)}jugar(){0==this.corriendo?(this.corriendo=!0,this.btnJugar="Terminar",this.info="Presiona Terminar para terminar el juego."):(this.corriendo=!1,this.btnJugar="Jugar",this.info="Presiona Jugar para iniciar el juego!",this.puntaje=0);const i=new A(5,20,{x:500,y:400},"../../../../../assets/mi_juego/ball.png"),t=this.crearFiguras(),s=new y(10,150,25,{x:450,y:this.canvas.height-25-5},"../../../../../assets/mi_juego/paddle.png");this.gameLoop(t,s,i)}gameLoop(i,t,s){this.limpiarCanvas(),this.dibujar(i),this.dibujarFigura(t),this.dibujarFigura(s),s.moverPelota(),(t.izquierda&&t.posicion.x>0||t.derecha&&t.posicion.x<this.canvas.width-t.ancho)&&t.moverPaleta(),this.chequearColisionPelota(s,t),this.chequearColisionBloques(s,i)&&this.puntaje++,s.posicion.y>this.canvas.height&&(this.corriendo=!1,this.info=`Perdiste! El juego finalizo! Obtuviste ${this.puntaje} puntos.`,this.puntaje=0,this.btnJugar="Jugar",this.limpiarCanvas()),0===i.length&&(this.corriendo=!1,this.info=`Felicidades! Ganaste! Tu puntaje: ${this.puntaje}`,this.puntaje=0,this.btnJugar="Jugar",this.limpiarCanvas()),1==this.corriendo?requestAnimationFrame(()=>this.gameLoop(i,t,s)):this.limpiarCanvas()}dibujarFigura(i){i&&this.context?.drawImage(i.imagen,i.posicion.x,i.posicion.y,i.ancho,i.alto)}dibujar(i){i.forEach(t=>this.dibujarFigura(t))}crearFiguras(){return K.reduce((i,t,s)=>{const c=Math.floor((s+1)/11),q=10+s%11*(m+5),H=10+c*(v+5);return 0===t?i:[...i,new x(m,v,{x:q,y:H},S[t],J[t])]},[])}chequearColisionPelota(i,t){i.posicion.x+i.ancho>t.posicion.x&&i.posicion.x<t.posicion.x+t.ancho&&i.posicion.y+i.alto===t.posicion.y&&i.cambiarDireccionY(),(i.posicion.x>this.canvas.width-i.ancho||i.posicion.x<0)&&i.cambiarDireccionX(),i.posicion.y<0&&i.cambiarDireccionY()}colisionaConBloque(i,t){return i.posicion.x<t.posicion.x+t.ancho&&i.posicion.x+i.ancho>t.posicion.x&&i.posicion.y<t.posicion.y+t.alto&&i.posicion.y+i.alto>t.posicion.y}chequearColisionBloques(i,t){let s=!1;return t.forEach((c,e)=>{this.colisionaConBloque(i,c)&&(i.cambiarDireccionY(),1===c.vida?t.splice(e,1):c.vida--,s=!0)}),s}static#i=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-mijuego"]],decls:13,vars:3,consts:[[1,"bg-amarillo"],["type","button","value","Volver","routerLink","/home",1,"btn","m-3","p-2","volver"],[1,"container","d-flex","align-items-center","justify-content-center","flex-column",2,"width","100vw","height","82vh"],[1,"juego"],["id","canvas","width","1000","height","600",1,"canv"],["src","../../../../../assets/mi_juego/background.png","alt",""],["id","opciones",1,"container","d-flex","align-items-center","justify-content-center","flex-row"],["id","puntaje","class","m-2 p-2",4,"ngIf"],["type","button","id","jugar",1,"m-2","p-2","volver",3,"value","click"],["id","info",1,"m-2","p-2"],["id","puntaje",1,"m-2","p-2"]],template:function(t,s){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"input",1),o.TgZ(2,"div",2)(3,"h2"),o._uU(4,"Breakout"),o.qZA(),o.TgZ(5,"div",3),o._UZ(6,"canvas",4)(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,Z,2,1,"div",7),o.TgZ(10,"input",8),o.NdJ("click",function(){return s.jugar()}),o.qZA(),o.TgZ(11,"div",9),o._uU(12),o.qZA()()()()()),2&t&&(o.xp6(9),o.Q6J("ngIf",s.corriendo),o.xp6(1),o.s9C("value",s.btnJugar),o.xp6(2),o.Oqu(s.info))},dependencies:[f.O5,l.rH],styles:[".volver[_ngcontent-%COMP%]{border:2px solid rgb(1,14,60);background-color:#44d;color:#fff}.volver[_ngcontent-%COMP%]:hover{background-color:#00ffea;border:2px solid black;box-shadow:0 12px 16px #019afa75,0 17px 50px #5c97f67e;color:#000}.bg-amarillo[_ngcontent-%COMP%]{background-color:#f9f08c}.canv[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:10;margin-bottom:40px}.juego[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:1000px;height:650px;font-size:32px;font-family:Arial,Helvetica,sans-serif}"]})}return n})()},{path:"**",redirectTo:""}];let O=(()=>{class n{static#i=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275mod=o.oAB({type:n});static#o=this.\u0275inj=o.cJS({imports:[l.Bz.forChild(z),l.Bz]})}return n})();var F=r(95);let U=(()=>{class n{static#i=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275mod=o.oAB({type:n});static#o=this.\u0275inj=o.cJS({imports:[f.ez,O,F.u5]})}return n})()}}]);